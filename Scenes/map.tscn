[gd_scene load_steps=28 format=3 uid="uid://csivk4bmioako"]

[ext_resource type="Script" uid="uid://qrldb3mvolox" path="res://Scripts/map.gd" id="1_xn4hm"]
[ext_resource type="PackedScene" uid="uid://026kxaorsntg" path="res://Scenes/snow_decal.tscn" id="2_k63oc"]
[ext_resource type="Shader" uid="uid://4lxdfdreyjat" path="res://clouds.gdshader" id="2_sc6k1"]
[ext_resource type="Script" uid="uid://bea103amee2fs" path="res://Scripts/world_environment.gd" id="3_575xv"]
[ext_resource type="Texture2D" uid="uid://p56xwtihxq22" path="res://Sprites/dark-black-texture-with-beautiful-stars-vector.jpg" id="3_bukha"]
[ext_resource type="PackedScene" uid="uid://d1xsirclagru0" path="res://Scenes/sand_decal.tscn" id="3_j4oe2"]
[ext_resource type="Script" uid="uid://uyjwx55t6exd" path="res://addons/zylann.hterrain/hterrain.gd" id="3_je8e7"]
[ext_resource type="Script" uid="uid://bw4xc3evjuel3" path="res://addons/zylann.hterrain/hterrain_texture_set.gd" id="5_sr3y7"]
[ext_resource type="Resource" uid="uid://butsxhw35emxq" path="res://Data/data.hterrain" id="6_ipvnn"]
[ext_resource type="Texture2D" uid="uid://iwbot60sbjqm" path="res://Textures/texture-grass-field.jpg" id="8_n5486"]
[ext_resource type="Script" uid="uid://blswf5oy6pops" path="res://addons/zylann.hterrain/hterrain_detail_layer.gd" id="9_smrgu"]
[ext_resource type="Texture2D" uid="uid://6jmdwj3vn6m0" path="res://addons/zylann.hterrain/tools/icons/icon_detail_layer_node.svg" id="10_lmmy2"]
[ext_resource type="Texture2D" uid="uid://b8j13f56alvd7" path="res://Sprites/clipart974730.png" id="10_ux663"]
[ext_resource type="AudioStream" uid="uid://debjmlamr7n2y" path="res://Sounds/music/natural disasters the game song.wav" id="10_w1fny"]
[ext_resource type="PackedScene" uid="uid://ddlqooa2yb6y4" path="res://Scenes/hause.tscn" id="11_8ni8s"]
[ext_resource type="PackedScene" uid="uid://yrq2iuii7a14" path="res://Scenes/chat.tscn" id="14_x5dfk"]
[ext_resource type="PackedScene" uid="uid://cb10f2tpfo0qj" path="res://Scenes/warning_hud.tscn" id="15_fls3e"]

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_8u7l0"]
properties/0/path = NodePath("FogVolume:shape")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath("FogVolume:layers")
properties/1/spawn = true
properties/1/replication_mode = 1
properties/2/path = NodePath("HTerrain:position")
properties/2/spawn = true
properties/2/replication_mode = 1
properties/3/path = NodePath("HTerrain:rotation")
properties/3/spawn = true
properties/3/replication_mode = 1
properties/4/path = NodePath("HTerrain:scale")
properties/4/spawn = true
properties/4/replication_mode = 1
properties/5/path = NodePath("WorldEnvironment/Sun:rotation")
properties/5/spawn = true
properties/5/replication_mode = 1
properties/6/path = NodePath("WorldEnvironment/Sun:scale")
properties/6/spawn = true
properties/6/replication_mode = 1
properties/7/path = NodePath("WorldEnvironment/Sun:position")
properties/7/spawn = true
properties/7/replication_mode = 1
properties/8/path = NodePath("WorldEnvironment/Moon:rotation")
properties/8/spawn = true
properties/8/replication_mode = 1
properties/9/path = NodePath("WorldEnvironment/Moon:position")
properties/9/spawn = true
properties/9/replication_mode = 1
properties/10/path = NodePath("WorldEnvironment/Moon:scale")
properties/10/spawn = true
properties/10/replication_mode = 1
properties/11/path = NodePath("Warning Hud/Panel/Label:text")
properties/11/spawn = true
properties/11/replication_mode = 1
properties/12/path = NodePath("Chat:visible")
properties/12/spawn = true
properties/12/replication_mode = 1
properties/13/path = NodePath("Warning Hud:visible")
properties/13/spawn = true
properties/13/replication_mode = 1
properties/14/path = NodePath("Chat/Panel/TextEdit:text")
properties/14/spawn = true
properties/14/replication_mode = 1
properties/15/path = NodePath("Chat/Panel/TextEdit:scroll_vertical")
properties/15/spawn = true
properties/15/replication_mode = 1
properties/16/path = NodePath("Chat/Panel/TextEdit:scroll_horizontal")
properties/16/spawn = true
properties/16/replication_mode = 1
properties/17/path = NodePath("Chat/Panel/TextEdit:scroll_v_scroll_speed")
properties/17/spawn = true
properties/17/replication_mode = 1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ihtyg"]
shader = ExtResource("2_sc6k1")
shader_parameter/day_top_color = Color(0, 0.556863, 1, 1)
shader_parameter/day_bottom_color = Color(0, 0.686275, 1, 1)
shader_parameter/sunset_top_color = Color(0.47, 0, 0.47, 1)
shader_parameter/sunset_bottom_color = Color(0.61, 0.315167, 0, 1)
shader_parameter/night_top_color = Color(0, 0, 0, 1)
shader_parameter/night_bottom_color = Color(0, 0, 0, 1)
shader_parameter/horizon_color = Color(0, 0.7, 0.8, 1)
shader_parameter/horizon_blur = 0.05
shader_parameter/sun_color = Color(10, 8, 1, 1)
shader_parameter/sun_sunset_color = Color(10, 0, 0, 1)
shader_parameter/sun_size = 0.065
shader_parameter/sun_blur = 0.01
shader_parameter/moon_color = Color(0.560955, 0.560955, 0.560955, 1)
shader_parameter/moon_size = 0.065
shader_parameter/moon_blur = 0.1
shader_parameter/clouds_edge_color = Color(0, 0.0274998, 0.55, 1)
shader_parameter/clouds_top_color = Color(1, 1, 1, 1)
shader_parameter/clouds_middle_color = Color(0.92, 0.92, 0.98, 1)
shader_parameter/clouds_bottom_color = Color(0.83, 0.83, 0.94, 1)
shader_parameter/clouds_speed = 2.0
shader_parameter/clouds_direction = 0.2
shader_parameter/clouds_scale = 1.0
shader_parameter/clouds_cutoff = 0.3
shader_parameter/clouds_fuzziness = 0.5
shader_parameter/clouds_weight = 0.0
shader_parameter/clouds_blur = 0.25
shader_parameter/stars_texture = ExtResource("3_bukha")
shader_parameter/stars_speed = 1.0
shader_parameter/overwritten_time = 0.0

[sub_resource type="Sky" id="Sky_lk1p6"]
sky_material = SubResource("ShaderMaterial_ihtyg")

[sub_resource type="Environment" id="Environment_cfhfe"]
background_mode = 2
sky = SubResource("Sky_lk1p6")
ssao_enabled = true
sdfgi_enabled = true
glow_enabled = true

[sub_resource type="Resource" id="Resource_xkn0v"]
script = ExtResource("5_sr3y7")
mode = 0
textures = [[ExtResource("8_n5486")], [null]]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_hhy4h"]
metadata/_preview_in_3d_space_ = true

[sub_resource type="NoiseTexture3D" id="NoiseTexture3D_bq76v"]
noise = SubResource("FastNoiseLite_hhy4h")

[sub_resource type="FogMaterial" id="FogMaterial_w14ph"]
density = 0.05
density_texture = SubResource("NoiseTexture3D_bq76v")

[sub_resource type="BoxShape3D" id="BoxShape3D_b68bb"]
size = Vector3(0, 100, 10000)

[sub_resource type="BoxShape3D" id="BoxShape3D_t040d"]
size = Vector3(10000, 100, 1)

[node name="map" type="Node3D"]
script = ExtResource("1_xn4hm")
snow_decal_scene = ExtResource("2_k63oc")
sand_decal_scene = ExtResource("3_j4oe2")

[node name="MapSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_8u7l0")

[node name="PlayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("uid://b2g31vrdy6c1x")
spawn_path = NodePath("..")

[node name="DisastersSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("uid://w8budjn2m22a", "uid://doi73cvnxims6", "uid://tjhhsh3ck07n", "uid://dni5hbhwlxmdi", "uid://d3gkmhq5kjhrj", "uid://qf81iinh5hke")
spawn_path = NodePath("..")

[node name="ObjectSpawn" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("uid://bkfobjkkd58w0", "uid://cv8xwubw2paof")
spawn_path = NodePath("..")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_cfhfe")
script = ExtResource("3_575xv")

[node name="Sun" type="DirectionalLight3D" parent="WorldEnvironment"]
shadow_enabled = true

[node name="Moon" type="DirectionalLight3D" parent="WorldEnvironment"]
light_color = Color(0.686275, 0.686275, 0.686275, 1)
light_energy = 0.2
shadow_enabled = true

[node name="HTerrain" type="Node3D" parent="."]
script = ExtResource("3_je8e7")
_terrain_data = ExtResource("6_ipvnn")
chunk_size = 32
collision_enabled = true
collision_layer = 1
collision_mask = 1
shader_type = "Classic4Lite"
custom_shader = null
custom_globalmap_shader = null
texture_set = SubResource("Resource_xkn0v")
render_layers = 2
cast_shadow = 1
shader_params/u_ground_uv_scale = 20
shader_params/u_depth_blending = true
shader_params/u_triplanar = null
shader_params/u_tile_reduction = null
metadata/_edit_group_ = true

[node name="HTerrainDetailLayer" type="Node3D" parent="HTerrain"]
script = ExtResource("9_smrgu")
layer_index = 1
texture = ExtResource("10_ux663")
render_layers = 2
shader_params/u_globalmap_tint_bottom = 0.0
shader_params/u_globalmap_tint_top = null
shader_params/u_bottom_ao = null
shader_params/u_instance_scale = null
shader_params/u_roughness = null
metadata/_editor_icon = ExtResource("10_lmmy2")

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_w1fny")
autoplay = true
bus = &"Music"

[node name="FogVolume" type="FogVolume" parent="."]
shape = 4
material = SubResource("FogMaterial_w14ph")

[node name="Spawn" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1201.83, 9.32904, 996.233)
gizmo_extents = 2.9

[node name="Hause" parent="." instance=ExtResource("11_8ni8s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1184.2, -0.1644988, 1012.02)

[node name="Chat" parent="." instance=ExtResource("14_x5dfk")]

[node name="Panel" parent="Chat" index="0"]
offset_right = 384.0
offset_bottom = 288.0

[node name="Warning Hud" parent="." instance=ExtResource("15_fls3e")]

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("BoxShape3D_b68bb")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("BoxShape3D_t040d")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4095.09, 0, 0)
shape = SubResource("BoxShape3D_b68bb")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4095.09, 0, 0)
shape = SubResource("BoxShape3D_t040d")

[node name="CollisionShape3D5" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4095.09, 0, 4095.09)
shape = SubResource("BoxShape3D_b68bb")

[node name="CollisionShape3D6" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4095.09, 0, 4095.09)
shape = SubResource("BoxShape3D_t040d")

[node name="CollisionShape3D7" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 4095.09)
shape = SubResource("BoxShape3D_b68bb")

[node name="CollisionShape3D8" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 4095.09)
shape = SubResource("BoxShape3D_t040d")

[editable path="Chat"]
[editable path="Warning Hud"]
